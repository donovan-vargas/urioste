{% extends "acuatica/acuatica.html" %} {% load static %} {% block title%}
Ventas{% endblock %}
 
{%block right_content %}
<div class="panel-derecho">
  <form action="{% url 'acuatica.sales-report' %}" method="post">
    {% csrf_token %}
  <nav class="navbar navbar-expand-lg navbar-light bg-light" style="padding: 0">
    <div class="container-fluid" style="padding: 4px 15px 4px 15px">
      <p style="margin-right: 20px">Reportes</p>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li style="margin-right: 20px">
            <label for="reporteClienteDataList" class="form-label"
              >Cliente:</label
            >
            <input
              class="form-control"
              list="reporteclientelistOptions"
              id="client"
              name="client"
              placeholder="Cliente..."
            />
            <datalist id="reporteclientelistOptions">
              {% for sale in sales %}
              <option value="{{sale.client.id}}"></option>              
              {% endfor %}
            </datalist>
          </li>
          <li class="nav-item" style="margin-right: 20px">
            <label for="cantidadventa" class="form-label">Estado:</label>
            <input
              class="form-control"
              id="status"
              name="status"
              list="estadoReportes"
              placeholder="cantidad..."
            />
            <datalist id="estadoReportes">
              <option value="Terminado"></option>
              <option value="Cancelado"></option>
            </datalist>
          </li>
          <li class="nav-item" style="margin-right: 20px">
            <label for="realizoventa" class="form-label">Realizo:</label>
            <input
              class="form-control"
              list="realizoventa"
              id="user"
              name="user"
              placeholder="Cliente..."
            />
            <datalist id="realizoventa">
              {% for sale in sales %}
              <option value="{{sale.user.id}}"></option>              
              {% endfor %}
            </datalist>
          </li>
          <li class="nav-item" style="margin-right: 20px">
            <label for="formaPago" class="form-label">Fecha:</label>
            <input
              type="date"
              name="init_date"
              class="form-control"
              id="init_date"
              
              
            />
          </li>
          <li class="nav-item" style="margin-right: 20px;">
            <button type="button"
            type="button"
                class="btn btn-dark mt-4"
                data-bs-toggle="modal"
                data-bs-target="#rangedate"
                data-bs-whatever="@mdo"
                style="font-size: 15px"
            >Periodo de Tiempo</button>
          </li>
          
          
          
          
        </ul>        
          <button
            type="submit"
            class="btn btn-dark"
            data-bs-toggle="modal"
            data-bs-whatever="@mdo"
            style="font-size: 12px"
          >
            Buscar
          </button>        
      </div>      
    </div>
  </nav>
  </form>
  <table class="table table-dark">
    <tbody>
      {% for sale in sales %}
        <tr>
          <td>{{sale.user}}</td>
          <td>{{sale.client}}</td>
          <td>{{sale.cash}}</td>
          <td>{{sale.total}}</td>
          <td>{{sale.created}}</td>          
          {% for detail in sale.invsales_set.all %}          
          <tr>
            <td>{{detail.inventory}}</td>
            <td>{{detail.quantity}}</td>
          </tr>          
          {% endfor %}          
        </tr>
        {% endfor %}
    </tbody>
  </table>
</div>
{% endblock%}
